<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JSON Data Display</title>
</head>
<body>
  <h1>Displaying JSON Data</h1>
  <div id="json-output"></div> <!-- This div will display the JSON data -->

  <script>
    // Define the endpoint to fetch JSON data
    const jsonEndpoint = 'https://evms-serverless-thingy.pages.dev/api/receive-data'; // Change to your endpoint

    // Fetch JSON data
    fetch(jsonEndpoint)
      .then((response) => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.json(); // Parse the JSON data
      })
      .then((jsonData) => {
        // Display the JSON data in the page
        const outputElement = document.getElementById('json-output');

        // Create a list of key-value pairs from the JSON data
        const jsonList = document.createElement('ul');
        jsonData.forEach((item) => {
          const listItem = document.createElement('li');
          listItem.textContent = `Key: ${item.key}, Value: ${JSON.stringify(item.value)}`;
          jsonList.appendChild(listItem);
        });

        outputElement.appendChild(jsonList);
      })
      .catch((error) => {
        console.error('Error fetching JSON data:', error);
      });
  </script>
</body>
</html>
